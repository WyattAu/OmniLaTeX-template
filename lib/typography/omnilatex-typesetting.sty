%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OmniLaTeX Typesetting Module
%
% Typography helpers, line spacing, and quotation support
% Part of OmniLaTeX-template modular architecture
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{lib/typography/omnilatex-typesetting}[2024-10-11 v6.0.0 OmniLaTeX typesetting module]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Typesetting Helpers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Using 'shortcuts' package option, do e.g. 'fast\-/paced' to get a breakable
% 'fast-pace' word in print.
% Otherwise, LaTeX does not hyphenate/linebreak words that already come with a hyphen,
% since that could be ambiguous
\RequirePackage[shortcuts]{extdash}

\RequirePackage{microtype}% Advanced typesetting for kerning etc.

% Dummy text in readable English (Other languages are also detected)
% Provides a more realistic preview than Lorem Ipsum
\RequirePackage{blindtext}

\RequirePackage{pdflscape}% Pages in landscape format

\RequirePackage{url}% Escaping special chars as URL

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Line Spacing
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{setspaceenhanced}% Line spacing, used for title page
% Using this because of issues with setspace, see:
% https://github.com/komascript/third-party-enhancements/issues/2#issuecomment-2456869119
% To achieve a reasonable 'text color', i.e. 'filled-ness' of the text,
% adjust line spacing.
% Recommendation for Palatino fonts (TeXGyrePagella is a Palatino clone) is a
% factor of 1.05.
% Discussion: https://tex.stackexchange.com/q/31064/120853
% For German, we might even want to go higher to allow space for the many capital
% letters.
% Also note that inline-math will look terrible at too low leading/linespread
\linespread{1.05}
% Note: singlespacing option is set at the class level in omnilatex.cls

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Quotation Support
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Proper quotation support, mainly through \enquote
\RequirePackage[
    autostyle=true,% true always adapts quotes to current language
]
{csquotes}
% Change the default used cite command to \parencite
% Must be done after biblatex is loaded
\AtBeginDocument{%
    \SetCiteCommand{\parencite}%
}
% Add itshape to beginning (beg) of display quote environments:
\renewcommand*{\mkbegdispquote}[2]{\itshape}

\endinput
